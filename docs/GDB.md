## 查看内存中的数据

在 GDB 中，您可以使用 x 命令来查看内存中的数据。x 命令后面可以跟一个或多个参数，用于指定要查看的内存地址和格式。

以下是一些常见的使用方式：

- `x/10b 0x12345`：以字节为单位，查看地址 0x12345 开始的 10 个字节的内容。
- `x/10h 0x12345`：以半字（2 字节）为单位，查看地址 0x12345 开始的 10 个半字的内容。
- `x/10w 0x12345`：以字（4 字节）为单位，查看地址 0x12345 开始的 10 个字的内容。
- `x/10g 0x12345`：以巨字（8 字节）为单位，查看地址 0x12345 开始的 10 个巨字的内容。
- `x/i`：一种特殊的格式，用于将内存中的内容解释为机器指令。i 代表 "instruction"，即指令。例如，`x/i $pc` 这条命令会显示程序计数器（PC）当前指向的机器指令。

## 查看寄存器中的数据

- 使用 x 命令来查看寄存器中的内容。
例如，`x/1w $sp` 会显示栈指针（SP）当前指向的内存位置的内容。

- 使用 info registers 命令来查看所有寄存器的当前值。这个命令会显示所有通用寄存器和一些特殊寄存器（如程序计数器）的值。
- `info all-registers` 列出所有寄存器的值，包括通用寄存器（如x0到x31），特权模式寄存器（如mstatus、mcause等），以及其他CSR寄存器。

- 如果您只想查看某个特定寄存器的值，可以使用 print 命令。例如，`print $r0` 会显示 r0 寄存器的值（在 ARM 架构中）。

## 写入内存或寄存器

- 使用 set 命令来写入内存。例如，`set {int}0x12345 = 0` 会将地址 0x12345 处的 4 个字节的内容设置为 0，`set {int}0x54321 = 0xabcdf` 会将地址 0x54321 处的 4 个字节的内容设置为 16 进制的 abcdf。
- 使用 set 命令来写入寄存器。例如，`set $r0 = 0` 会将 r0 寄存器的值设置为 0。
- 使用 set 命令来写入特殊寄存器。例如，`set $pc = 0x12345` 会将程序计数器（PC）的值设置为 0x12345。/x 用于16进制格式，/d 用于十进制格式等

> ROM（只读存储器）是一种只能读取不能写入的存储器。
如果你试图在 GDB 中使用 set 命令写入 ROM 地址的数据，GDB 可能不会显示错误，但实际上数据并没有被写入 ROM。
当你使用 x 命令读取该地址时，GDB 可能会显示你之前尝试写入的数据，但这只是 GDB 内部状态的一部分，不代表实际的硬件状态。
在真实的硬件中，ROM 的内容在写入后就不能更改。

